<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/basiscore.js"></script>
    <title>Print Command - Simple</title>
</head>

<body>

    <Basis core="print" datamembername="inlinesource.print" run="atclient">
        <layout>
            <ul>@child</ul>
        </layout>
        <face>
            <li>@id @name@{{
                return await fn($bc,$data);
                }}</li>
        </face>
    </Basis>



    <script>


        $bc.setSource('inlinesource.print', [
            {
                id: 1, name: 'qamsari', tags: ["A", "B", "C"]
            },
            {
                id: 3, name: 'akaberi', tags: ["A", "F"]
            },
            {
                id: 3, name: 'amir', tags: ["B", "T"]
            }
        ])

        async function fn(_, $data) {
            const lis = $data.tags.reduce((total, tag) => total += `<li>${tag}</li>`, '');
            return `${$data.name}<ul>${lis}</ul>`
        }
    </script>
</body>

</html>