<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="/bclib.js"></script>
  <title>Schema Command - view with callback</title>
</head>

<body dir="rtl">
  <Basis core="api" url="/schema/answers?id=[##inline.object.id##]" method="get" run="atclient">
  </Basis>
  <Basis core="schema" datamembername="answer.data" run="atclient" schemaUrl="/schema/questions" viewMode="true" callback="onCreateAnswerPart">
  </Basis>
</body>
<script>
  const host = {
    sources: {
      "inline.object": [{ id: 1423330 }],
    },
  };

  function onCreateAnswerPart(params) {
    //console.log("element", params);
    /*
    params.element: Element;
    params.prpId: number;
    params.typeId: number;
    params.value: any;
    */
    if (params.typeId == 262) {
      const a = document.createElement("a");
      a.href = `#${params.prpId}`;
      params.element.appendChild(a);
      a.appendChild(params.element.querySelector("label"));
    }
  }
</script>

</html>